{%- if flavor contains "vanilla-js" -%}
// @ts-check
import {HttpRequestMethod} from '../generated/api';

/**
 * @typedef {import("../generated/api").InputDeliveryFetch} InputDeliveryFetch
 * @typedef {import("../generated/api").FunctionDeliveryFetchResult} FunctionDeliveryFetchResult
 */
/**
 * Generates a network request to fetch delivery discount information
 * @param {InputDeliveryFetch} input - The delivery fetch input data
 * @returns {FunctionDeliveryFetchResult} - The function result with network request configuration
 */
export function generateDeliveryFetch(input) {
    const { enteredDiscountCodes } = input;
    const jsonBody = { enteredDiscountCodes };
    const request = {
        headers: [
            {
                name: 'accept',
                value: 'application/json',
            },
        ],
        method: HttpRequestMethod.Post,
        policy: {
            readTimeoutMs: 2000,
        },
        url: '<external server url>',
        body: JSON.stringify(jsonBody),
        jsonBody,
    };
    return { request };
}
{%- elsif flavor contains "typescript" -%}
import {
  HttpRequestMethod,
  InputDeliveryFetch,
  FunctionDeliveryFetchResult,
} from '../generated/api';
export function generateDeliveryFetch(
  input: InputDeliveryFetch,
): FunctionDeliveryFetchResult {
  const {enteredDiscountCodes} = input;
  const jsonBody = {enteredDiscountCodes};

  const request = {
    headers: [
      {
        name: 'accept',
        value: 'application/json',
      },
    ],
    method: HttpRequestMethod.Post,
    policy: {
      readTimeoutMs: 2000,
    },
    url: '<external server url>',
    body: JSON.stringify(jsonBody),
    jsonBody,
  };

  return {request};
}
{%- endif -%}
